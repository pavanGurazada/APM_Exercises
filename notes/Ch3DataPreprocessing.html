<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="data:text/css;charset=utf-8,%0A%40font%2Dface%20%7B%0Afont%2Dfamily%3A%20octicons%2Dlink%3B%0Asrc%3A%20url%28data%3Afont%2Fwoff%3Bcharset%3Dutf%2D8%3Bbase64%2Cd09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM%2B8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB%2FaFGpk3jaTY6xa8JAGMW%2FO62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v%2Bk%2F0an2i%2BitHDw3v2%2B9%2BDBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3%2FI7AtxEJLtzzuZfI%2BVVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy%2FLt7Kc%2B0vWY%2FgAgIIEqAN9we0pwKXreiMasxvabDQMM4riO%2BqxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw%2Bymhce7vwM9jSqO8JyVd5RH9gyTt2%2BJ%2FyUmYlIR0s04n6%2B7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv%2FocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi%2BW2%2BMjCzMIDApSwvXzC97Z4Ig8N%2FBxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh%2F8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT%2BAEjAwuDFpBmA9KMDEwMCh9i%2Fv8H8sH0%2F4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9%2FlqYwOGZxeUelN2U2R6%2BcArgtCJpauW7UQBqnFkUsjAY%2FkOU1cP%2BDAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl%2BvvmM%2FbyA48e6tWrKArm4ZJlCbdsrxksL1AwWn%2FyBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO%2F%2FsdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd%2F89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF%2B9JOS0nbaaYDCQfwCJ7Au3AHj%2BLO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm%2BEBXuAbHmIMSRMs%2B4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL%2BhD7C1xoaHeLJSEao0FEW14ckxC%2BTU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13%2F%2Blm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl%2B9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O%2FAdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB%2F%2F%2FAA8AAQAAAAAAAAAAAAAAAAABAAAAAA%3D%3D%29%20format%28%27woff%27%29%3B%0A%7D%0Abody%20%7B%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0Atext%2Dsize%2Dadjust%3A%20100%25%3B%0Acolor%3A%20%23333%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Segoe%20UI%22%2C%20Arial%2C%20freesans%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0Afont%2Dsize%3A%2016px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0Aa%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Aa%3Aactive%2C%0Aa%3Ahover%20%7B%0Aoutline%3A%200%3B%0A%7D%0Astrong%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%202em%3B%0Amargin%3A%200%2E67em%200%3B%0A%7D%0Aimg%20%7B%0Aborder%3A%200%3B%0A%7D%0Ahr%20%7B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Aheight%3A%200%3B%0A%7D%0Apre%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0Acode%2C%0Akbd%2C%0Apre%20%7B%0Afont%2Dfamily%3A%20monospace%2C%20monospace%3B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ainput%20%7B%0Acolor%3A%20inherit%3B%0Afont%3A%20inherit%3B%0Amargin%3A%200%3B%0A%7D%0Ahtml%20input%5Bdisabled%5D%20%7B%0Acursor%3A%20default%3B%0A%7D%0Ainput%20%7B%0Aline%2Dheight%3A%20normal%3B%0A%7D%0Ainput%5Btype%3D%22checkbox%22%5D%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Apadding%3A%200%3B%0A%7D%0Atable%20%7B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%0A%7D%0Atd%2C%0Ath%20%7B%0Apadding%3A%200%3B%0A%7D%0A%2A%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%7D%0Ainput%20%7B%0Afont%3A%2013px%20%2F%201%2E4%20Helvetica%2C%20arial%2C%20nimbussansl%2C%20liberationsans%2C%20freesans%2C%20clean%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%234078c0%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%2C%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200%3B%0Amargin%3A%2015px%200%3B%0Aoverflow%3A%20hidden%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0Ahr%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ahr%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%2015px%3B%0Amargin%2Dbottom%3A%2015px%3B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2030px%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2021px%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2014px%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%2011px%3B%0A%7D%0Ablockquote%20%7B%0Amargin%3A%200%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Aol%20ol%2C%0Aul%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Droman%3B%0A%7D%0Aul%20ul%20ol%2C%0Aul%20ol%20ol%2C%0Aol%20ul%20ol%2C%0Aol%20ol%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%0A%7D%0Add%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0Afont%3A%2012px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0A%7D%0A%2Eselect%3A%3A%2Dms%2Dexpand%20%7B%0Aopacity%3A%200%3B%0A%7D%0A%2Eocticon%20%7B%0Afont%3A%20normal%20normal%20normal%2016px%2F1%20octicons%2Dlink%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Drendering%3A%20auto%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Eocticon%2Dlink%3Abefore%20%7B%0Acontent%3A%20%27%5Cf05c%27%3B%0A%7D%0A%2Emarkdown%2Dbody%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%0A%7D%0Aa%3Anot%28%5Bhref%5D%29%20%7B%0Acolor%3A%20inherit%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0A%2Eanchor%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%202px%3B%0Amargin%2Dleft%3A%20%2D18px%3B%0A%7D%0A%2Eanchor%3Afocus%20%7B%0Aoutline%3A%20none%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%2016px%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%201%2E4%3B%0A%7D%0Ah1%20%2Eocticon%2Dlink%2C%0Ah2%20%2Eocticon%2Dlink%2C%0Ah3%20%2Eocticon%2Dlink%2C%0Ah4%20%2Eocticon%2Dlink%2C%0Ah5%20%2Eocticon%2Dlink%2C%0Ah6%20%2Eocticon%2Dlink%20%7B%0Acolor%3A%20%23000%3B%0Avertical%2Dalign%3A%20middle%3B%0Avisibility%3A%20hidden%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%2C%0Ah2%3Ahover%20%2Eanchor%2C%0Ah3%3Ahover%20%2Eanchor%2C%0Ah4%3Ahover%20%2Eanchor%2C%0Ah5%3Ahover%20%2Eanchor%2C%0Ah6%3Ahover%20%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah2%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah3%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah4%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah5%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah6%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%20%7B%0Avisibility%3A%20visible%3B%0A%7D%0Ah1%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%202%2E25em%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah1%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah2%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%201%2E75em%3B%0Aline%2Dheight%3A%201%2E225%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah2%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%201%2E5em%3B%0Aline%2Dheight%3A%201%2E43%3B%0A%7D%0Ah3%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%201%2E25em%3B%0A%7D%0Ah4%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ah5%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%201em%3B%0Acolor%3A%20%23777%3B%0A%7D%0Ah6%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ap%2C%0Ablockquote%2C%0Aul%2C%0Aol%2C%0Adl%2C%0Atable%2C%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0Amargin%3A%2016px%200%3B%0Abackground%2Dcolor%3A%20%23e7e7e7%3B%0Aborder%3A%200%20none%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%2Dleft%3A%202em%3B%0A%7D%0Aul%20ul%2C%0Aul%20ol%2C%0Aol%20ol%2C%0Aol%20ul%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Ali%3Ep%20%7B%0Amargin%2Dtop%3A%2016px%3B%0A%7D%0Adl%20%7B%0Apadding%3A%200%3B%0A%7D%0Adl%20dt%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%2016px%3B%0Afont%2Dsize%3A%201em%3B%0Afont%2Dstyle%3A%20italic%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adl%20dd%20%7B%0Apadding%3A%200%2016px%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ablockquote%20%7B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777%3B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0A%7D%0Ablockquote%3E%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%3E%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Atable%20%7B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aoverflow%3A%20auto%3B%0Aword%2Dbreak%3A%20normal%3B%0Aword%2Dbreak%3A%20keep%2Dall%3B%0A%7D%0Atable%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Atable%20th%2C%0Atable%20td%20%7B%0Apadding%3A%206px%2013px%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0A%7D%0Atable%20tr%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Aborder%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0A%7D%0Acode%20%7B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%2085%25%3B%0Abackground%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%2E04%29%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0Acode%3Abefore%2C%0Acode%3Aafter%20%7B%0Aletter%2Dspacing%3A%20%2D0%2E2em%3B%0Acontent%3A%20%22%5C00a0%22%3B%0A%7D%0Apre%3Ecode%20%7B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Aword%2Dbreak%3A%20normal%3B%0Awhite%2Dspace%3A%20pre%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0A%2Ehighlight%20%7B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0A%2Ehighlight%20pre%2C%0Apre%20%7B%0Apadding%3A%2016px%3B%0Aoverflow%3A%20auto%3B%0Afont%2Dsize%3A%2085%25%3B%0Aline%2Dheight%3A%201%2E45%3B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0A%2Ehighlight%20pre%20%7B%0Amargin%2Dbottom%3A%200%3B%0Aword%2Dbreak%3A%20normal%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20normal%3B%0A%7D%0Apre%20code%20%7B%0Adisplay%3A%20inline%3B%0Amax%2Dwidth%3A%20initial%3B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Aoverflow%3A%20initial%3B%0Aline%2Dheight%3A%20inherit%3B%0Aword%2Dwrap%3A%20normal%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0Apre%20code%3Abefore%2C%0Apre%20code%3Aafter%20%7B%0Acontent%3A%20normal%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%2Dsize%3A%2011px%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Epl%2Dc%20%7B%0Acolor%3A%20%23969896%3B%0A%7D%0A%2Epl%2Dc1%2C%0A%2Epl%2Ds%20%2Epl%2Dv%20%7B%0Acolor%3A%20%230086b3%3B%0A%7D%0A%2Epl%2De%2C%0A%2Epl%2Den%20%7B%0Acolor%3A%20%23795da3%3B%0A%7D%0A%2Epl%2Ds%20%2Epl%2Ds1%2C%0A%2Epl%2Dsmi%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epl%2Dent%20%7B%0Acolor%3A%20%2363a35c%3B%0A%7D%0A%2Epl%2Dk%20%7B%0Acolor%3A%20%23a71d5d%3B%0A%7D%0A%2Epl%2Dpds%2C%0A%2Epl%2Ds%2C%0A%2Epl%2Ds%20%2Epl%2Dpse%20%2Epl%2Ds1%2C%0A%2Epl%2Dsr%2C%0A%2Epl%2Dsr%20%2Epl%2Dcce%2C%0A%2Epl%2Dsr%20%2Epl%2Dsra%2C%0A%2Epl%2Dsr%20%2Epl%2Dsre%20%7B%0Acolor%3A%20%23183691%3B%0A%7D%0A%2Epl%2Dv%20%7B%0Acolor%3A%20%23ed6a43%3B%0A%7D%0A%2Epl%2Did%20%7B%0Acolor%3A%20%23b52a1d%3B%0A%7D%0A%2Epl%2Dii%20%7B%0Abackground%2Dcolor%3A%20%23b52a1d%3B%0Acolor%3A%20%23f8f8f8%3B%0A%7D%0A%2Epl%2Dsr%20%2Epl%2Dcce%20%7B%0Acolor%3A%20%2363a35c%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dml%20%7B%0Acolor%3A%20%23693a17%3B%0A%7D%0A%2Epl%2Dmh%2C%0A%2Epl%2Dmh%20%2Epl%2Den%2C%0A%2Epl%2Dms%20%7B%0Acolor%3A%20%231d3e81%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmq%20%7B%0Acolor%3A%20%23008080%3B%0A%7D%0A%2Epl%2Dmi%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0A%2Epl%2Dmb%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmd%20%7B%0Abackground%2Dcolor%3A%20%23ffecec%3B%0Acolor%3A%20%23bd2c00%3B%0A%7D%0A%2Epl%2Dmi1%20%7B%0Abackground%2Dcolor%3A%20%23eaffea%3B%0Acolor%3A%20%2355a532%3B%0A%7D%0A%2Epl%2Dmdr%20%7B%0Acolor%3A%20%23795da3%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmo%20%7B%0Acolor%3A%20%231d3e81%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%3A%2011px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%2B%2Etask%2Dlist%2Ditem%20%7B%0Amargin%2Dtop%3A%203px%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20input%20%7B%0Amargin%3A%200%200%2E35em%200%2E25em%20%2D1%2E6em%3B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%3Achecked%2B%2Eradio%2Dlabel%20%7B%0Az%2Dindex%3A%201%3B%0Aposition%3A%20relative%3B%0Aborder%2Dcolor%3A%20%234078c0%3B%0A%7D%0A%2EsourceLine%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0Acode%20%2Ekw%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Edt%20%7B%20color%3A%20%23ed6a43%3B%20%7D%0Acode%20%2Edv%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ebn%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Efl%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ech%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Est%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eco%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Eot%20%7B%20color%3A%20%230086b3%3B%20%7D%0Acode%20%2Eal%20%7B%20color%3A%20%23a61717%3B%20%7D%0Acode%20%2Efu%20%7B%20color%3A%20%2363a35c%3B%20%7D%0Acode%20%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%0Acode%20%2Ewa%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ecn%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Esc%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Evs%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Ess%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eim%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eva%20%7Bcolor%3A%20%23008080%3B%20%7D%0Acode%20%2Ecf%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eop%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ebu%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eex%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Epp%20%7B%20color%3A%20%23999999%3B%20%7D%0Acode%20%2Eat%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Edo%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Ean%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ecv%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ein%20%7B%20color%3A%20%23008080%3B%20%7D%0A" rel="stylesheet">
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="preprocessing-data">Preprocessing Data</h1>
<p>Pavan Gurazada<br />
February 2018</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(AppliedPredictiveModeling)
<span class="kw">library</span>(caret)
<span class="kw">library</span>(tidyverse)

<span class="kw">library</span>(mlbench)

<span class="kw">set.seed</span>(<span class="dv">20130810</span>)
<span class="kw">theme_set</span>(<span class="kw">theme_bw</span>())
<span class="kw">dev.new</span>()</code></pre></div>
<p>Here we are concerned about the preprocessing of features only. The outcome is kept out of the discussion.</p>
<p>Preprocessing is usually referred to as 'feature engineering' in practise.</p>
<p>All feature engineering decisions are made based on the training data and applied to test data.</p>
<p>The usual suspects for feature engineering are:</p>
<ol>
<li><p>Centering and scaling</p></li>
<li><p>Box-Cox transformations with lambda derived using MLE</p></li>
<li><p>Outlier treatment using spatial sign tranformation</p></li>
<li><p>PCA for reduction to a small subset of orthogonal features. The number of features eventually selected is based on a scree plot or using cross-validation</p></li>
<li><p>Removal of features with near-zero variance</p></li>
<li><p>Removal of features exhibiting multicollinearity. Easiest way to deal with this is to assert that the pairwise correlation between any two features is below a certain threshold (say 0.75)</p></li>
<li><p>Addition of dummy variables to split categorical data (one dummy variable per category, unless it is a regression setup)</p></li>
</ol>
<p>Another pesky issue in feature engineering is the handling of missing values. Always check if missing values in a data set are concentrated in a small subset of predictors. This may be informative about the data generation mechanism. Based on an anlysis of missing values, it might be beneficial to either remove the offending features or the offending samples.</p>
<p>In case a decision has been made to not remove missing values, the first pass would be to see if the features with tons of missing values are correlated with any of those that do not have missing values. If this also does not work, an imputation model needs to be applied to infer the missing values from available data. This needs to be done with care and incorporated into the model parameter tuning too.</p>
<p>A widely applied method for imputation is K-Nearest Neighbors. Note that both the number of nearest neighbors and the distance metric are parameters in this case.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;segmentationOriginal&quot;</span>)
<span class="kw">glimpse</span>(segmentationOriginal)</code></pre></div>
<pre><code>## Observations: 2,019
## Variables: 119
## $ Cell                          &lt;int&gt; 207827637, 207932307, 207932463,...
## $ Case                          &lt;fct&gt; Test, Train, Train, Train, Test,...
## $ Class                         &lt;fct&gt; PS, PS, WS, PS, PS, WS, WS, PS, ...
## $ AngleCh1                      &lt;dbl&gt; 143.247705, 133.752037, 106.6463...
## $ AngleStatusCh1                &lt;int&gt; 1, 0, 0, 0, 2, 2, 1, 1, 2, 1, 2,...
## $ AreaCh1                       &lt;int&gt; 185, 819, 431, 298, 285, 172, 17...
## $ AreaStatusCh1                 &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ AvgIntenCh1                   &lt;dbl&gt; 15.71186, 31.92327, 28.03883, 19...
## $ AvgIntenCh2                   &lt;dbl&gt; 3.954802, 205.878517, 115.315534...
## $ AvgIntenCh3                   &lt;dbl&gt; 9.548023, 69.916880, 63.941748, ...
## $ AvgIntenCh4                   &lt;dbl&gt; 2.214689, 164.153453, 106.696602...
## $ AvgIntenStatusCh1             &lt;int&gt; 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1,...
## $ AvgIntenStatusCh2             &lt;int&gt; 2, 0, 0, 0, 0, 1, 1, 2, 0, 0, 1,...
## $ AvgIntenStatusCh3             &lt;int&gt; 2, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0,...
## $ AvgIntenStatusCh4             &lt;int&gt; 2, 0, 0, 2, 0, 1, 0, 2, 0, 0, 0,...
## $ ConvexHullAreaRatioCh1        &lt;dbl&gt; 1.124509, 1.263158, 1.053310, 1....
## $ ConvexHullAreaRatioStatusCh1  &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ ConvexHullPerimRatioCh1       &lt;dbl&gt; 0.9196827, 0.7970801, 0.9354750,...
## $ ConvexHullPerimRatioStatusCh1 &lt;int&gt; 0, 2, 0, 2, 0, 1, 1, 2, 2, 2, 0,...
## $ DiffIntenDensityCh1           &lt;dbl&gt; 29.51923, 31.87500, 32.48771, 26...
## $ DiffIntenDensityCh3           &lt;dbl&gt; 13.77564, 43.12228, 35.98577, 22...
## $ DiffIntenDensityCh4           &lt;dbl&gt; 6.826923, 79.308424, 51.357050, ...
## $ DiffIntenDensityStatusCh1     &lt;int&gt; 2, 0, 0, 2, 0, 1, 1, 2, 2, 2, 0,...
## $ DiffIntenDensityStatusCh3     &lt;int&gt; 2, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0,...
## $ DiffIntenDensityStatusCh4     &lt;int&gt; 2, 0, 0, 2, 2, 1, 1, 2, 0, 0, 0,...
## $ EntropyIntenCh1               &lt;dbl&gt; 4.969781, 6.087592, 5.883557, 5....
## $ EntropyIntenCh3               &lt;dbl&gt; 4.371017, 6.642761, 6.683000, 5....
## $ EntropyIntenCh4               &lt;dbl&gt; 2.718884, 7.880155, 7.144601, 5....
## $ EntropyIntenStatusCh1         &lt;int&gt; 2, 0, 0, 2, 2, 0, 0, 2, 2, 2, 1,...
## $ EntropyIntenStatusCh3         &lt;int&gt; 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0,...
## $ EntropyIntenStatusCh4         &lt;int&gt; 2, 1, 0, 0, 0, 0, 0, 2, 0, 0, 0,...
## $ EqCircDiamCh1                 &lt;dbl&gt; 15.36954, 32.30558, 23.44892, 19...
## $ EqCircDiamStatusCh1           &lt;int&gt; 0, 1, 0, 0, 0, 2, 2, 0, 0, 0, 0,...
## $ EqEllipseLWRCh1               &lt;dbl&gt; 3.060676, 1.558394, 1.375386, 3....
## $ EqEllipseLWRStatusCh1         &lt;int&gt; 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0,...
## $ EqEllipseOblateVolCh1         &lt;dbl&gt; 336.9691, 2232.9055, 802.1945, 7...
## $ EqEllipseOblateVolStatusCh1   &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ EqEllipseProlateVolCh1        &lt;dbl&gt; 110.0963, 1432.8246, 583.2504, 2...
## $ EqEllipseProlateVolStatusCh1  &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ EqSphereAreaCh1               &lt;dbl&gt; 742.1156, 3278.7256, 1727.4104, ...
## $ EqSphereAreaStatusCh1         &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ EqSphereVolCh1                &lt;dbl&gt; 1900.996, 17653.525, 6750.985, 3...
## $ EqSphereVolStatusCh1          &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ FiberAlign2Ch3                &lt;dbl&gt; 0.00000000, 0.48793541, 0.300521...
## $ FiberAlign2Ch4                &lt;dbl&gt; 0.000000000, 0.352374247, 0.5223...
## $ FiberAlign2StatusCh3          &lt;int&gt; 2, 0, 0, 0, 0, 0, 0, 2, 0, 1, 0,...
## $ FiberAlign2StatusCh4          &lt;int&gt; 2, 0, 0, 1, 0, 0, 0, 2, 0, 1, 0,...
## $ FiberLengthCh1                &lt;dbl&gt; 26.98132, 64.28230, 21.14115, 43...
## $ FiberLengthStatusCh1          &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ FiberWidthCh1                 &lt;dbl&gt; 7.410365, 13.167079, 21.141150, ...
## $ FiberWidthStatusCh1           &lt;int&gt; 2, 0, 1, 2, 2, 0, 0, 2, 0, 0, 1,...
## $ IntenCoocASMCh3               &lt;dbl&gt; 0.011183899, 0.028051061, 0.0068...
## $ IntenCoocASMCh4               &lt;dbl&gt; 0.050448005, 0.012594975, 0.0061...
## $ IntenCoocASMStatusCh3         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ IntenCoocASMStatusCh4         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ IntenCoocContrastCh3          &lt;dbl&gt; 40.751777, 8.227953, 14.446074, ...
## $ IntenCoocContrastCh4          &lt;dbl&gt; 13.895439, 6.984046, 16.700843, ...
## $ IntenCoocContrastStatusCh3    &lt;int&gt; 1, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0,...
## $ IntenCoocContrastStatusCh4    &lt;int&gt; 1, 0, 1, 1, 2, 0, 1, 0, 0, 1, 2,...
## $ IntenCoocEntropyCh3           &lt;dbl&gt; 7.199458, 6.822138, 7.580100, 6....
## $ IntenCoocEntropyCh4           &lt;dbl&gt; 5.249744, 7.098988, 7.671478, 7....
## $ IntenCoocEntropyStatusCh3     &lt;int&gt; 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0,...
## $ IntenCoocEntropyStatusCh4     &lt;int&gt; 0, 0, 1, 0, 0, 0, 0, 2, 0, 1, 0,...
## $ IntenCoocMaxCh3               &lt;dbl&gt; 0.07741935, 0.15321477, 0.028350...
## $ IntenCoocMaxCh4               &lt;dbl&gt; 0.17197452, 0.07387141, 0.023195...
## $ IntenCoocMaxStatusCh3         &lt;int&gt; 0, 0, 2, 0, 0, 2, 2, 2, 0, 0, 0,...
## $ IntenCoocMaxStatusCh4         &lt;int&gt; 0, 0, 2, 0, 0, 2, 2, 1, 0, 0, 0,...
## $ KurtIntenCh1                  &lt;dbl&gt; -0.656744087, -0.248769067, -0.2...
## $ KurtIntenCh3                  &lt;dbl&gt; -0.608058268, -0.330783900, 1.05...
## $ KurtIntenCh4                  &lt;dbl&gt; 0.7258145, -0.2652638, 0.1506140...
## $ KurtIntenStatusCh1            &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ KurtIntenStatusCh3            &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ KurtIntenStatusCh4            &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ LengthCh1                     &lt;dbl&gt; 26.20779, 47.21855, 28.14303, 37...
## $ LengthStatusCh1               &lt;int&gt; 0, 1, 0, 0, 0, 2, 2, 0, 0, 0, 0,...
## $ MemberAvgAvgIntenStatusCh2    &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ MemberAvgTotalIntenStatusCh2  &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ NeighborAvgDistCh1            &lt;dbl&gt; 370.4543, 174.4442, 158.4774, 20...
## $ NeighborAvgDistStatusCh1      &lt;int&gt; 1, 2, 2, 0, 0, 0, 0, 0, 0, 0, 1,...
## $ NeighborMinDistCh1            &lt;dbl&gt; 99.10349, 30.11114, 34.94477, 33...
## $ NeighborMinDistStatusCh1      &lt;int&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ NeighborVarDistCh1            &lt;dbl&gt; 127.96080, 81.38063, 90.43768, 1...
## $ NeighborVarDistStatusCh1      &lt;int&gt; 0, 2, 2, 0, 0, 0, 0, 0, 2, 2, 0,...
## $ PerimCh1                      &lt;dbl&gt; 68.78338, 154.89876, 84.56460, 1...
## $ PerimStatusCh1                &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ ShapeBFRCh1                   &lt;dbl&gt; 0.6651480, 0.5397584, 0.7243116,...
## $ ShapeBFRStatusCh1             &lt;int&gt; 0, 2, 1, 0, 0, 0, 1, 0, 0, 0, 1,...
## $ ShapeLWRCh1                   &lt;dbl&gt; 2.462450, 1.468181, 1.328408, 2....
## $ ShapeLWRStatusCh1             &lt;int&gt; 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0,...
## $ ShapeP2ACh1                   &lt;dbl&gt; 1.883006, 2.255810, 1.272193, 2....
## $ ShapeP2AStatusCh1             &lt;int&gt; 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0,...
## $ SkewIntenCh1                  &lt;dbl&gt; 0.45450484, 0.39870467, 0.472487...
## $ SkewIntenCh3                  &lt;dbl&gt; 0.46039340, 0.61973079, 0.971378...
## $ SkewIntenCh4                  &lt;dbl&gt; 1.2327736, 0.5272631, 0.3247065,...
## $ SkewIntenStatusCh1            &lt;int&gt; 0, 0, 0, 1, 0, 2, 2, 0, 0, 0, 2,...
## $ SkewIntenStatusCh3            &lt;int&gt; 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0,...
## $ SkewIntenStatusCh4            &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,...
## $ SpotFiberCountCh3             &lt;int&gt; 1, 4, 2, 4, 1, 1, 0, 2, 1, 1, 1,...
## $ SpotFiberCountCh4             &lt;int&gt; 4, 11, 6, 7, 7, 4, 4, 7, 11, 7, ...
## $ SpotFiberCountStatusCh3       &lt;int&gt; 0, 1, 0, 1, 0, 0, 2, 0, 0, 0, 0,...
## $ SpotFiberCountStatusCh4       &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0,...
## $ TotalIntenCh1                 &lt;int&gt; 2781, 24964, 11552, 5545, 6603, ...
## $ TotalIntenCh2                 &lt;int&gt; 700, 160997, 47510, 28869, 30305...
## $ TotalIntenCh3                 &lt;int&gt; 1690, 54675, 26344, 8042, 5569, ...
## $ TotalIntenCh4                 &lt;int&gt; 392, 128368, 43959, 8843, 11037,...
## $ TotalIntenStatusCh1           &lt;int&gt; 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1,...
## $ TotalIntenStatusCh2           &lt;int&gt; 2, 1, 0, 0, 0, 1, 1, 2, 0, 0, 1,...
## $ TotalIntenStatusCh3           &lt;int&gt; 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ TotalIntenStatusCh4           &lt;int&gt; 2, 1, 0, 2, 0, 0, 0, 2, 0, 0, 0,...
## $ VarIntenCh1                   &lt;dbl&gt; 12.47468, 18.80923, 17.29564, 13...
## $ VarIntenCh3                   &lt;dbl&gt; 7.609035, 56.715352, 37.671053, ...
## $ VarIntenCh4                   &lt;dbl&gt; 2.714100, 118.388139, 49.470524,...
## $ VarIntenStatusCh1             &lt;int&gt; 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0,...
## $ VarIntenStatusCh3             &lt;int&gt; 2, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0,...
## $ VarIntenStatusCh4             &lt;int&gt; 2, 0, 0, 2, 0, 0, 0, 2, 0, 2, 0,...
## $ WidthCh1                      &lt;dbl&gt; 10.64297, 32.16126, 21.18553, 13...
## $ WidthStatusCh1                &lt;int&gt; 2, 1, 0, 0, 0, 0, 0, 2, 1, 0, 0,...
## $ XCentroid                     &lt;int&gt; 42, 215, 371, 487, 283, 191, 180...
## $ YCentroid                     &lt;int&gt; 14, 347, 252, 295, 159, 127, 138...</code></pre>
<p>The code below performs the followng steps:</p>
<ol>
<li><p>Filter the training data</p></li>
<li><p>Remove the predictor and sample id features</p></li>
<li><p>Remove redundant columns that contain &quot;Status&quot; in their name</p></li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">segTrain &lt;-<span class="st"> </span>segmentationOriginal <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Case <span class="op">==</span><span class="st"> &quot;Train&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                                     </span><span class="kw">select</span>(<span class="op">-</span>Cell, <span class="op">-</span>Class, <span class="op">-</span>Case) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                                     </span><span class="kw">select</span>(<span class="op">-</span><span class="kw">contains</span>(<span class="st">&quot;Status&quot;</span>))</code></pre></div>
<p>Next we apply a pre-processing pipeline to the training data, do a box-cox transform, center and scale the data and apply a PCA. The output is a model object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">trans &lt;-<span class="st"> </span>segTrain <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">preProcess</span>(<span class="dt">method =</span> <span class="kw">c</span>(<span class="st">&quot;BoxCox&quot;</span>, <span class="st">&quot;center&quot;</span>, <span class="st">&quot;scale&quot;</span>, <span class="st">&quot;pca&quot;</span>))</code></pre></div>
<p>These transformations need to be applied to the data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">transSegTrain &lt;-<span class="st"> </span><span class="kw">predict</span>(trans, segTrain)
<span class="kw">glimpse</span>(transSegTrain) <span class="co"># you should onl see the 19 principal components here</span></code></pre></div>
<pre><code>## Observations: 1,009
## Variables: 19
## $ PC1  &lt;dbl&gt; 1.5684742, -0.6664055, 3.7500055, 0.3768509, 1.0644951, -...
## $ PC2  &lt;dbl&gt; 6.2907855, 2.0455375, -0.3915610, -2.1897554, -1.4646516,...
## $ PC3  &lt;dbl&gt; -0.33332995, -1.44168410, -0.66902601, 1.43801667, -0.990...
## $ PC4  &lt;dbl&gt; -3.06332674, -4.70118302, -4.02075287, -5.32711644, -5.62...
## $ PC5  &lt;dbl&gt; -1.3415782, -1.7422020, 1.7927777, -0.4066757, -0.8650174...
## $ PC6  &lt;dbl&gt; 0.3933609, 0.4313114, -0.8542507, 1.1092318, 0.1070749, -...
## $ PC7  &lt;dbl&gt; -1.317794806, 1.284502479, -0.070927238, 0.702318738, 0.4...
## $ PC8  &lt;dbl&gt; -1.8965728, -3.0829008, -0.5997223, -0.9667673, -0.656911...
## $ PC9  &lt;dbl&gt; 0.7111800857, 1.9973302847, 0.9873784383, 0.4970412086, 0...
## $ PC10 &lt;dbl&gt; 0.16193272, 0.58665039, -0.47230884, -0.10925035, -0.0165...
## $ PC11 &lt;dbl&gt; 1.44061816, 0.80080447, 1.22229470, 1.59963522, 0.0115479...
## $ PC12 &lt;dbl&gt; -0.664707822, 1.448093530, 1.127734837, -0.666573808, -0....
## $ PC13 &lt;dbl&gt; -0.50341167, 0.44875803, -1.37477652, -1.26751477, -0.068...
## $ PC14 &lt;dbl&gt; -0.5251037, -0.4299460, -1.4884756, -0.2010528, -0.292584...
## $ PC15 &lt;dbl&gt; 0.209541528, -0.610433146, -0.712689953, 0.135890457, 0.0...
## $ PC16 &lt;dbl&gt; 0.001408739, -1.058349329, -0.359746977, -1.125603114, -0...
## $ PC17 &lt;dbl&gt; 0.783699478, -0.791062674, -0.002913506, -0.025376331, -0...
## $ PC18 &lt;dbl&gt; -0.55515083, 0.06569274, 1.35736326, -0.63185874, -0.5846...
## $ PC19 &lt;dbl&gt; 0.68129112, 0.14157724, 0.10187098, -0.96813663, 0.050848...</code></pre>
<p>This highlights a disadvantage of PCA, i.e., the loss of interpretability of features.</p>
<p>PCA essentially projects the data onto a vector pointed in the direction of maximum variance. The first direction is along the eigen vector corresponding to the largest eigen value and so on.</p>
<p>An alternative pathway is to remove zero variance features and features that are highly correlated Check for degenerate features</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw">nearZeroVar</span>(segTrain))<span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Check for highly correlated features Compute the correlation among all features, then filter beyond a cutoff</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">highCorrVars &lt;-<span class="st"> </span><span class="kw">cor</span>(segTrain) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">findCorrelation</span>(<span class="dt">cutoff =</span> <span class="fl">0.75</span>)
segTrain &lt;-<span class="st"> </span>segTrain <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>highCorrVars)
<span class="kw">glimpse</span>(segTrain)</code></pre></div>
<pre><code>## Observations: 1,009
## Variables: 26
## $ AngleCh1                &lt;dbl&gt; 133.75204, 106.64639, 69.15032, 109.41...
## $ ConvexHullPerimRatioCh1 &lt;dbl&gt; 0.7970801, 0.9354750, 0.8658291, 0.920...
## $ EntropyIntenCh1         &lt;dbl&gt; 6.087592, 5.883557, 5.420065, 5.383272...
## $ FiberAlign2Ch3          &lt;dbl&gt; 0.48793541, 0.30052198, 0.22042390, 0....
## $ FiberAlign2Ch4          &lt;dbl&gt; 0.35237425, 0.52231582, 0.73325044, 0....
## $ FiberWidthCh1           &lt;dbl&gt; 13.167079, 21.141150, 7.404412, 12.057...
## $ IntenCoocASMCh3         &lt;dbl&gt; 0.028051061, 0.006862315, 0.030962071,...
## $ IntenCoocASMCh4         &lt;dbl&gt; 0.012594975, 0.006141691, 0.011033195,...
## $ IntenCoocContrastCh3    &lt;dbl&gt; 8.2279529, 14.4460738, 7.2994574, 6.16...
## $ IntenCoocContrastCh4    &lt;dbl&gt; 6.984046, 16.700843, 13.390884, 10.590...
## $ KurtIntenCh1            &lt;dbl&gt; -0.24876907, -0.29348463, 0.62585612, ...
## $ KurtIntenCh3            &lt;dbl&gt; -0.3307839, 1.0512813, 0.1277406, 1.08...
## $ KurtIntenCh4            &lt;dbl&gt; -0.2652638, 0.1506140, -0.3472936, -0....
## $ NeighborAvgDistCh1      &lt;dbl&gt; 174.4442, 158.4774, 206.3344, 263.6345...
## $ NeighborMinDistCh1      &lt;dbl&gt; 30.11114, 34.94477, 33.08030, 38.43038...
## $ ShapeBFRCh1             &lt;dbl&gt; 0.5397584, 0.7243116, 0.5891625, 0.634...
## $ ShapeLWRCh1             &lt;dbl&gt; 1.468181, 1.328408, 2.826854, 1.313937...
## $ SpotFiberCountCh3       &lt;int&gt; 4, 2, 4, 0, 1, 1, 4, 2, 2, 2, 6, 4, 0,...
## $ SpotFiberCountCh4       &lt;int&gt; 11, 6, 7, 5, 4, 5, 4, 2, 5, 1, 10, 3, ...
## $ TotalIntenCh2           &lt;int&gt; 160997, 47510, 28869, 30855, 30719, 74...
## $ VarIntenCh1             &lt;dbl&gt; 18.80923, 17.29564, 13.81897, 13.92294...
## $ VarIntenCh3             &lt;dbl&gt; 56.71535, 37.67105, 30.00564, 18.64303...
## $ VarIntenCh4             &lt;dbl&gt; 118.38814, 49.47052, 24.74954, 40.3317...
## $ WidthCh1                &lt;dbl&gt; 32.16126, 21.18553, 13.39283, 17.54686...
## $ XCentroid               &lt;int&gt; 215, 371, 487, 211, 172, 276, 239, 95,...
## $ YCentroid               &lt;int&gt; 347, 252, 295, 495, 207, 385, 404, 95,...</code></pre>
<p>Exercise 3.1</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;Glass&quot;</span>)
<span class="kw">glimpse</span>(Glass)</code></pre></div>
<pre><code>## Observations: 214
## Variables: 10
## $ RI   &lt;dbl&gt; 1.52101, 1.51761, 1.51618, 1.51766, 1.51742, 1.51596, 1.5...
## $ Na   &lt;dbl&gt; 13.64, 13.89, 13.53, 13.21, 13.27, 12.79, 13.30, 13.15, 1...
## $ Mg   &lt;dbl&gt; 4.49, 3.60, 3.55, 3.69, 3.62, 3.61, 3.60, 3.61, 3.58, 3.6...
## $ Al   &lt;dbl&gt; 1.10, 1.36, 1.54, 1.29, 1.24, 1.62, 1.14, 1.05, 1.37, 1.3...
## $ Si   &lt;dbl&gt; 71.78, 72.73, 72.99, 72.61, 73.08, 72.97, 73.09, 73.24, 7...
## $ K    &lt;dbl&gt; 0.06, 0.48, 0.39, 0.57, 0.55, 0.64, 0.58, 0.57, 0.56, 0.5...
## $ Ca   &lt;dbl&gt; 8.75, 7.83, 7.78, 8.22, 8.07, 8.07, 8.17, 8.24, 8.30, 8.4...
## $ Ba   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ...
## $ Fe   &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 0.26, 0.00, 0.00, 0.00, 0.1...
## $ Type &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...</code></pre>
<p>Gather all the features into a column &quot;Variable&quot; and its corresponding value into a column &quot;Value&quot;. We leave the Type column alone. We can then plot the histogram of the variables at once using a facet wrap and compare values</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">meltedGlass &lt;-<span class="st"> </span>Glass <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>Type) <span class="op">%&gt;%</span><span class="st">  </span>
<span class="st">                         </span><span class="kw">gather</span>(<span class="st">&quot;Variable&quot;</span>, <span class="st">&quot;Value&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>)
<span class="kw">glimpse</span>(meltedGlass)</code></pre></div>
<pre><code>## Observations: 1,926
## Variables: 2
## $ Variable &lt;chr&gt; &quot;RI&quot;, &quot;RI&quot;, &quot;RI&quot;, &quot;RI&quot;, &quot;RI&quot;, &quot;RI&quot;, &quot;RI&quot;, &quot;RI&quot;, &quot;RI&quot;,...
## $ Value    &lt;dbl&gt; 1.52101, 1.51761, 1.51618, 1.51766, 1.51742, 1.51596,...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(meltedGlass) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Value)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Variable)</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>The plot shows signs of both bimodality and skewness. Check for degenerate features</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(<span class="kw">nearZeroVar</span>(Glass)) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> <span class="co"># No problem here</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>We look for highly correlated predictors</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">highCorrVars &lt;-<span class="st"> </span>Glass <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>Type) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                          </span><span class="kw">cor</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                          </span><span class="kw">findCorrelation</span>(<span class="dt">cutoff =</span> <span class="fl">0.75</span>)</code></pre></div>
<p>This is suggesting that removing Ca might be a good option since it is highly correlated with others Many zeros exist in the data, hence Yeo-Johnson transformation might be better</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">yjTrans &lt;-<span class="st"> </span>Glass <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>Type) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                     </span><span class="kw">preProcess</span>(<span class="dt">method =</span> <span class="st">&quot;YeoJohnson&quot;</span>)

yjTransData &lt;-<span class="st"> </span><span class="kw">predict</span>(yjTrans, Glass[, <span class="op">-</span><span class="dv">10</span>]) 
<span class="kw">glimpse</span>(yjTransData)</code></pre></div>
<pre><code>## Observations: 214
## Variables: 9
## $ RI &lt;dbl&gt; 1.52101, 1.51761, 1.51618, 1.51766, 1.51742, 1.51596, 1.517...
## $ Na &lt;dbl&gt; 2.110448, 2.120686, 2.105878, 2.092344, 2.094909, 2.074022,...
## $ Mg &lt;dbl&gt; 19.71831, 13.12961, 12.80174, 13.73095, 13.26199, 13.19571,...
## $ Al &lt;dbl&gt; 0.7428059, 0.8598251, 0.9335354, 0.8296351, 0.8075021, 0.96...
## $ Si &lt;dbl&gt; 71.78, 72.73, 72.99, 72.61, 73.08, 72.97, 73.09, 73.24, 72....
## $ K  &lt;dbl&gt; 0.05663025, 0.32528951, 0.28128447, 0.36428786, 0.35600981,...
## $ Ca &lt;dbl&gt; 0.7032119, 0.6983904, 0.6980940, 0.7005729, 0.6997596, 0.69...
## $ Ba &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
## $ Fe &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 0.26, 0.00, 0.00, 0.00, 0.11,...</code></pre>
<p>Now we relook at the distribution of the variables</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">meltedYJTransData &lt;-<span class="st"> </span>yjTransData <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(<span class="st">&quot;Variable&quot;</span>, <span class="st">&quot;Value&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>)
<span class="kw">ggplot</span>(meltedYJTransData) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Value)) <span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Variable)</code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>Does not seem to have a big difference Moving on to spatial sign transformation for outliers</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">spatSignTrans &lt;-<span class="st"> </span>Glass <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>Type) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                           </span><span class="kw">preProcess</span>(<span class="dt">method =</span> <span class="kw">c</span>(<span class="st">&quot;center&quot;</span>, <span class="st">&quot;scale&quot;</span>, <span class="st">&quot;spatialSign&quot;</span>))
ssData &lt;-<span class="st"> </span><span class="kw">predict</span>(spatSignTrans, Glass[, <span class="op">-</span><span class="dv">10</span>])
<span class="kw">glimpse</span>(ssData)</code></pre></div>
<pre><code>## Observations: 214
## Variables: 9
## $ RI &lt;dbl&gt; 0.3862138, -0.1782866, -0.4739625, -0.1932662, -0.2268925, ...
## $ Na &lt;dbl&gt; 0.12608198, 0.42318047, 0.09851782, -0.20158533, -0.1230318...
## $ Mg &lt;dbl&gt; 0.5551342, 0.4548937, 0.3951817, 0.5799799, 0.4726731, 0.24...
## $ Al &lt;dbl&gt; -0.30638163, -0.12188805, 0.12544395, -0.25814737, -0.29911...
## $ Si &lt;dbl&gt; -0.49869486, 0.07316353, 0.28831726, -0.04397201, 0.4037353...
## $ K  &lt;dbl&gt; -0.297206467, -0.018743853, -0.108111077, 0.093056534, 0.05...
## $ Ca &lt;dbl&gt; -0.064496571, -0.567561472, -0.544684692, -0.430850723, -0....
## $ Ba &lt;dbl&gt; -0.1561358, -0.2523255, -0.2318677, -0.2929133, -0.2565822,...
## $ Fe &lt;dbl&gt; -0.2594843, -0.4193433, -0.3853442, -0.4867968, -0.4264175,...</code></pre>
<p>Exercise 3.2</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;Soybean&quot;</span>)
<span class="kw">glimpse</span>(Soybean)</code></pre></div>
<pre><code>## Observations: 683
## Variables: 36
## $ Class           &lt;fct&gt; diaporthe-stem-canker, diaporthe-stem-canker, ...
## $ date            &lt;fct&gt; 6, 4, 3, 3, 6, 5, 5, 4, 6, 4, 6, 4, 3, 6, 6, 5...
## $ plant.stand     &lt;ord&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ precip          &lt;ord&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0...
## $ temp            &lt;ord&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2, 2...
## $ hail            &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1...
## $ crop.hist       &lt;fct&gt; 1, 2, 1, 1, 2, 3, 2, 1, 3, 2, 1, 1, 1, 3, 1, 3...
## $ area.dam        &lt;fct&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 2, 3, 3, 3...
## $ sever           &lt;fct&gt; 1, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1...
## $ seed.tmt        &lt;fct&gt; 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 1...
## $ germ            &lt;ord&gt; 0, 1, 2, 1, 2, 1, 0, 2, 1, 2, 0, 1, 0, 0, 1, 2...
## $ plant.growth    &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1...
## $ leaves          &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1...
## $ leaf.halo       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ leaf.marg       &lt;fct&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2...
## $ leaf.size       &lt;ord&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2...
## $ leaf.shread     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ leaf.malf       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ leaf.mild       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ stem            &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1...
## $ lodging         &lt;fct&gt; 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0...
## $ stem.cankers    &lt;fct&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0...
## $ canker.lesion   &lt;fct&gt; 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3...
## $ fruiting.bodies &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0...
## $ ext.decay       &lt;fct&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0...
## $ mycelium        &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ int.discolor    &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 2...
## $ sclerotia       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1...
## $ fruit.pods      &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ fruit.spots     &lt;fct&gt; 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4...
## $ seed            &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ mold.growth     &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ seed.discolor   &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ seed.size       &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ shriveling      &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ roots           &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...</code></pre>
<p>Are the missing values concentrated among few predictors? Here is a helper function that computes the missing values percentage by variable</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">naPercentage &lt;-<span class="st"> </span><span class="cf">function</span>(df) {
  percentage &lt;-<span class="st"> </span><span class="kw">floor</span>(<span class="kw">colSums</span>(<span class="kw">is.na</span>(df))<span class="op">*</span><span class="dv">100</span><span class="op">/</span><span class="kw">dim</span>(df)[<span class="dv">1</span>])
  <span class="kw">return</span>(percentage)
}</code></pre></div>
<p>Another alternative is to use dplyr; one of the rare occassions where it is a bit ugly</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Soybean <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select_if</span>(<span class="cf">function</span>(x) <span class="kw">any</span>(<span class="kw">is.na</span>(x))) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">            </span><span class="kw">summarize_all</span>(<span class="kw">funs</span>(<span class="kw">sum</span>(<span class="kw">is.na</span>(.))<span class="op">*</span><span class="dv">100</span><span class="op">/</span><span class="kw">length</span>(.)))</code></pre></div>
<pre><code>##        date plant.stand  precip     temp     hail crop.hist  area.dam
## 1 0.1464129    5.270864 5.56369 4.392387 17.71596  2.342606 0.1464129
##      sever seed.tmt     germ plant.growth leaf.halo leaf.marg leaf.size
## 1 17.71596 17.71596 16.39824     2.342606  12.29868  12.29868  12.29868
##   leaf.shread leaf.malf leaf.mild     stem  lodging stem.cankers
## 1    14.64129  12.29868  15.81259 2.342606 17.71596      5.56369
##   canker.lesion fruiting.bodies ext.decay mycelium int.discolor sclerotia
## 1       5.56369        15.51977   5.56369  5.56369      5.56369   5.56369
##   fruit.pods fruit.spots     seed mold.growth seed.discolor seed.size
## 1   12.29868    15.51977 13.46999    13.46999      15.51977  13.46999
##   shriveling    roots
## 1   15.51977 4.538799</code></pre>
<p>We can look at the distribution of NAs by Class. This will help decide if we need to exclude certain variables What is the percentage of missing values for each predictor by class?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">naByPredByClass &lt;-<span class="st"> </span>Soybean <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(<span class="st">&quot;Variable&quot;</span>, <span class="st">&quot;Value&quot;</span>, <span class="op">-</span>Class) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                               </span><span class="kw">group_by</span>(Class, Variable) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                               </span><span class="kw">filter</span>(<span class="kw">is.na</span>(Value)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">                               </span><span class="kw">summarize_at</span>(<span class="st">&quot;Value&quot;</span>, <span class="kw">funs</span>(<span class="kw">sum</span>(<span class="kw">is.na</span>(.)))) </code></pre></div>
<pre><code>## Warning: attributes are not identical across measure variables;
## they will be dropped</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(naByPredByClass)</code></pre></div>
<pre><code>## Observations: 106
## Variables: 3
## $ Class    &lt;fct&gt; 2-4-d-injury, 2-4-d-injury, 2-4-d-injury, 2-4-d-injur...
## $ Variable &lt;chr&gt; &quot;area.dam&quot;, &quot;canker.lesion&quot;, &quot;crop.hist&quot;, &quot;date&quot;, &quot;ex...
## $ Value    &lt;int&gt; 1, 16, 16, 1, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16,...</code></pre>
<p>There are loads of missing values, scattered among mainly three classes How would one do imputation here?</p>

</body>
</html>
